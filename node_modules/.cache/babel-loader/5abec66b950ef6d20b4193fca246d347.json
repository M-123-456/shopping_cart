{"ast":null,"code":"var _jsxFileName = \"/home/user/Documents/D01_JS/SPA/react/exercises/react_store03_shopping-cart-M-123-456/src/components/cards/ProductCardInCart.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { getProductById } from '../../data/products'; // Hooks\n\nimport { useStore } from '../../store';\nimport { useAvailability } from '../../hooks/useAvailability'; // Components\n\nimport RedButton from '../ui/buttons/RedButton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProductCardInCart = props => {\n  _s();\n\n  const {\n    id,\n    quantity\n  } = props;\n  const article = getProductById(id);\n  const shoppingCart = useStore(state => state.shoppingCart);\n  const changeProductQuantity = useStore(state => state.changeProductQuantity);\n  const deleteProduct = useStore(state => state.deleteProduct); // useAvailability\n\n  const {\n    isAvailable,\n    message,\n    checkAvailability\n  } = useAvailability();\n  const [editProduct, setEditProduct] = useState({\n    productId: id,\n    quantity: quantity\n  });\n  console.log(editProduct);\n\n  const handleChange = e => {\n    setEditProduct(prev => ({ ...prev,\n      quantity: Number(e.target.value)\n    }));\n  };\n\n  useEffect(() => {\n    changeProductQuantity(editProduct); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editProduct]);\n  useEffect(() => {\n    checkAvailability({\n      editProduct,\n      article,\n      shoppingCart\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editProduct.quantity, shoppingCart, article]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-2/3 flex flex-col justify-center items-center gap-4 py-3 px-6 border border-slate-400 rounded-lg md:justify-between md:flex-row\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-w-min\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"w-20 md:w-44\",\n        src: article === null || article === void 0 ? void 0 : article.image,\n        alt: article === null || article === void 0 ? void 0 : article.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col gap-y-3 items-center md:items-start\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: article === null || article === void 0 ? void 0 : article.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [article === null || article === void 0 ? void 0 : article.price, \" EUR\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"w-20 border border-slate-400\",\n        type: \"number\",\n        value: editProduct.quantity,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(RedButton, {\n        onClick: () => deleteProduct(id),\n        children: \"Delete from Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), !isAvailable && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-800\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Total: \", (article.price * editProduct.quantity).toFixed(2), \" EUR\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProductCardInCart, \"aEBlSjKlb2ZEP/17iC1THsNEs9k=\", false, function () {\n  return [useStore, useStore, useStore, useAvailability];\n});\n\n_c = ProductCardInCart;\nexport default ProductCardInCart;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductCardInCart\");","map":{"version":3,"names":["useState","useEffect","getProductById","useStore","useAvailability","RedButton","ProductCardInCart","props","id","quantity","article","shoppingCart","state","changeProductQuantity","deleteProduct","isAvailable","message","checkAvailability","editProduct","setEditProduct","productId","console","log","handleChange","e","prev","Number","target","value","image","name","price","toFixed"],"sources":["/home/user/Documents/D01_JS/SPA/react/exercises/react_store03_shopping-cart-M-123-456/src/components/cards/ProductCardInCart.tsx"],"sourcesContent":["import { useState, ChangeEvent, useEffect } from 'react';\n\nimport { getProductById } from '../../data/products';\n\n// Hooks\nimport { useStore } from '../../store';\nimport { useAvailability } from '../../hooks/useAvailability';\n\n// Components\nimport RedButton from '../ui/buttons/RedButton';\n\ninterface ProductCardInCartType {\n    key: string | undefined,\n    id: string | undefined,\n    quantity: number\n}\n\nconst ProductCardInCart: React.FC<ProductCardInCartType> = ( props ) => {\n    const { id, quantity } = props;\n    const article = getProductById(id);\n    const shoppingCart = useStore(state => state.shoppingCart);\n    const changeProductQuantity = useStore(state => state.changeProductQuantity);\n    const deleteProduct = useStore(state => state.deleteProduct);\n\n    // useAvailability\n    const { isAvailable, message, checkAvailability } = useAvailability();\n\n    const [editProduct, setEditProduct] = useState({\n        productId: id,\n        quantity: quantity\n    })\n\n    console.log(editProduct);\n    const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n        setEditProduct(prev => ({\n            ...prev,\n            quantity: Number(e.target.value)\n        }))\n    }\n\n    useEffect(() => {\n        changeProductQuantity(editProduct)\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    },[editProduct])\n\n    useEffect(() => {\n        checkAvailability({editProduct, article, shoppingCart})\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [editProduct.quantity, shoppingCart, article])\n\n    return (  \n        <div className=\"w-2/3 flex flex-col justify-center items-center gap-4 py-3 px-6 border border-slate-400 rounded-lg md:justify-between md:flex-row\">\n            <div className=\"min-w-min\">\n                <img className=\"w-20 md:w-44\" src={article?.image} alt={article?.name} />\n            </div>\n            <div className=\"flex flex-col gap-y-3 items-center md:items-start\">\n                <h3>{article?.name}</h3>\n                <p>{article?.price} EUR</p>\n                <input \n                    className=\"w-20 border border-slate-400\"\n                    type=\"number\" \n                    value={editProduct.quantity}\n                    onChange={handleChange}\n                />\n                {/* todo onClickChangeToEditMode */}\n                <RedButton\n                    onClick={() => deleteProduct(id)}\n                >\n                    Delete from Cart\n                </RedButton>\n                {\n                    !isAvailable &&\n                    <p className=\"text-red-800\">{message}</p>\n                }\n                <p>Total: {(article!.price * editProduct.quantity).toFixed(2)} EUR</p>\n            </div>\n        </div>\n    );\n}\n \nexport default ProductCardInCart;"],"mappings":"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"},"metadata":{},"sourceType":"module"}